<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>游戏服务器与客户端</title>
      <link href="/2022/06/22/Adventure_Road/"/>
      <url>/2022/06/22/Adventure_Road/</url>
      
        <content type="html"><![CDATA[<p>卡牌游戏Demo</p><span id="more"></span><h2 id="服务器端"><a href="#服务器端" class="headerlink" title="服务器端"></a>服务器端</h2><p>说明：服务器使用C++语言开发，使用到了epoll高并发通讯技术，线程池处理业务逻辑，MySQL存储用户数据，定时心跳包检测，服务器安全（畸形数据包识别并处理、恶意客户端识别并处理）等等。<br>服务器使用 “主服务器+游戏服务器”的程序架构。<br>主服务器负责一些基本的业务逻辑，如账号注册、账号登录验证1、修改密码、忘记密码功能。<br>游戏服务器负责一些游戏相关的业务，账号登录验证2、游戏逻辑等。</p><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/serverRun.png" alt="服务器运行"></p><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/mainServerSpLogicFunc.png" alt="主服务器业务逻辑相关函数"></p><p>后期如果需要扩展业务逻辑，只需要在statusHandler数组里面添加相应的函数，同时约定好对应的消息码，然后实现相应函数即可完成对业务逻辑的扩充。</p><p>游戏服务器的相关业务逻辑就不展示了。</p><h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><p>客户端使用Unity-3D开发引擎，搭配C#语言，开发一个2D战棋游戏。<br>客户端（C#）和服务器（C++）的通讯，是使用自己封装的Dll库来实现的。<br>下面的图片是客户端的部分界面的截图。</p><h3 id="账号登录"><a href="#账号登录" class="headerlink" title="账号登录"></a>账号登录</h3><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/clientLoginPage.png" alt="客户端登录界面"></p><h3 id="账号注册"><a href="#账号注册" class="headerlink" title="账号注册"></a>账号注册</h3><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/registerPage1.png" alt="注册界面1"></p><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/registerPage2.png" alt="注册界面2"></p><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/registerPage3.png" alt="注册界面3"></p><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/registerPage4.png" alt="注册界面4"><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/emailVerify.jpg" alt="邮箱验证码 (2)"></p><h3 id="密码管理"><a href="#密码管理" class="headerlink" title="密码管理"></a>密码管理</h3><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/passwdManager1.png" alt="密码管理-1"></p><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/passwdManager_forget.png" alt="密码管理-忘记密码"></p><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/passwdManager_Modify.png" alt="密码管理-修改密码"></p><h3 id="登录后主界面"><a href="#登录后主界面" class="headerlink" title="登录后主界面"></a>登录后主界面</h3><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/loginedMainPage.png" alt="登录后的主界面"></p><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/clientMain_SettingPage.png" alt="客户端登录界面-设置菜单"></p><h2 id=""><a href="#" class="headerlink" title="."></a>.</h2><p>游戏还不是很完善，游戏的玩法正在开发中。</p><p>敬请期待…</p><h3 id="客户端下载链接"><a href="#客户端下载链接" class="headerlink" title="客户端下载链接"></a>客户端下载链接</h3><p>客户端配置文件<code>Adventure_Road.conf</code>，在程序的根目录</p><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/Adventure_Road_conf.png" alt="image-20230918225002524"></p><p>给配置文件配置主服务器的<code>ip</code>地址和端口号。</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 服务器IP地址</span></span><br><span class="line"><span class="attr">MasterServerAddr</span> = <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="comment"># 服务器端口</span></span><br><span class="line"><span class="attr">MasterServerPort</span> = <span class="number">35300</span></span><br></pre></td></tr></table></figure><p>百度网盘链接：</p><p>链接：<a href="https://pan.baidu.com/s/1Fl9mRH0gFj3PmATxoGVZDA">https://pan.baidu.com/s/1Fl9mRH0gFj3PmATxoGVZDA</a><br>提取码：mxzl</p><p>115网盘链接：</p><p><a href="https://115.com/s/sw6c6sv36eu?password=mxzl&#">https://115.com/s/sw6c6sv36eu?password=mxzl&amp;#</a><br>Adventure_Road_Client.0906.R.zip<br>访问码:mxzl</p><p>夸克网盘：<br>链接：<a href="https://pan.quark.cn/s/e868fc0d4e38">https://pan.quark.cn/s/e868fc0d4e38</a><br>提取码：XmHH</p><h3 id="服务器下载链接"><a href="#服务器下载链接" class="headerlink" title="服务器下载链接"></a>服务器下载链接</h3><p>服务器，笔者制作了<code>docker</code>镜像，下载后导入镜像，创建容器后就可以使用了。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">导入镜像</span><br><span class="line">docker import - mxzl_demo_image &lt; mxzlDemoImage.tar </span><br><span class="line">这样就把，mxzlDemoImage.tar导入了，镜像名字为mxzl_demo_image</span><br><span class="line"></span><br><span class="line">创建容器</span><br><span class="line">docker run --name mxzl_demo_env -itd -p 35300:35300 -p 39300:39300 mxzl_demo_image  /bin/bash</span><br><span class="line">这样就创建了容器mxzl_demo_env</span><br><span class="line"></span><br><span class="line">启动容器</span><br><span class="line">docker start mxzl_demo_env</span><br><span class="line"></span><br><span class="line">进入已启动的容器</span><br><span class="line">docker <span class="built_in">exec</span> -it mxzl_demo_env /bin/bash</span><br><span class="line"></span><br><span class="line">启动脚本，启动数据库、启动游戏服务器</span><br><span class="line"><span class="built_in">cd</span> /</span><br><span class="line">./startDemo.sh </span><br><span class="line"></span><br><span class="line">数据库已经有了测试账号，服务器运行起来后可以直接登录使用</span><br><span class="line">账号：brkzh</span><br><span class="line">密码：brkzh</span><br><span class="line"></span><br><span class="line">如果需要注册账号等，需要启用验证码功能，那么就需要改主服务器的配置文件：</span><br><span class="line">vim /home/mxzl/MasterServer.conf</span><br><span class="line">需要更改 [E-Mail]节点的 sendUser、sendPass等配置项</span><br></pre></td></tr></table></figure><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/vim_config.png" alt="image-20230918222156628"></p><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/emainConfig.png" alt="image-20230918222222613"></p><p><img src="https://brkzh.github.io/docPics/Adventure_Road_GameServerAndClient.assets/emainConfig2.png" alt="image-20230918222233795"></p><p>百度网盘链接：</p><p>链接：<a href="https://pan.baidu.com/s/1wLpDleYBLlprs58rPv-ZFA">https://pan.baidu.com/s/1wLpDleYBLlprs58rPv-ZFA</a><br>提取码：mxzl</p><p>夸克网盘：<br>链接：<a href="https://pan.quark.cn/s/a914ea04c026">https://pan.quark.cn/s/a914ea04c026</a><br>提取码：7GNC</p>]]></content>
      
      
      <categories>
          
          <category> Notes </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
